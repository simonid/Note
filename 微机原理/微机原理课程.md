

### 实例模式下的存储器寻址小结
<ul>
    <li>每个内存单元在整个内存空间中都具有唯一的物理地址</li>
    <li>每个内存单元的地址都由两部分组成：<br>
    段基地址 &nbsp;&nbsp; 段内相对地址（偏移地址）
    </li>
    <li>段基地址决定了逻辑段在内存中所占的区域，改变段基地址，则改变了逻辑段的位置</li>
    <li>一个逻辑段的默认长度为64k，最小长度值为16B</li>
    <li>逻辑段可以有多个，但是只有4种类型。在一个程序模块中，每种类型的逻辑段最多只能有一个</li>
</ul>

### 指令系统概述和数据传送指令
#### 指令系统基本概念
一条指令包含的内容：
<ul>
<li>运算数据的来源</li>
<li>运算结果的去向</li>
<li>执行的操作</li>
</ul>
立即操作数
<ul>
<li>立即数本身是参加操作的数据，由指令直接给出，常数性质，无地址含义，可以是8或16位，只能作为源操作数</li>
</ul>
寄存器操作数
<ul>
<li>参加运算的数存放在指令给出的寄存器中，可以是16或8位，运行时间最短</li>
</ul>
存储器操作数
<ul>
<li>参加运算的数存放在内存的某一个或某两个单元中，表现形式：[  ]，表示要寻址的数放在内存 ，方括号内表示操作数在内存中的偏移地址，最慢</li>
</ul>

#### 寻址方式
存储器操作：
存储器操作数的字长本身不确定，其字长取决于指令中另外一个寄存器操作数，或通过其他方式指定字长
<ol>
<li>直接寻址</li>
指令中直接给出操作数的偏移地址，如`MOV  AX,[1200H]`<br>
直寻址方式下，操作数默认为在数据段，但允许段重设，即由指令给出所在逻辑段，ag：
`MOV AX,ES:[1200H]`
<li>间接寻址</li>
操作数放在内存中，数据在内存中的偏移地址为方括号中通用寄存器的内容。仅有4个通用寄存器可用于存放数据的偏移地址(间址寄存器：BX,BP,SI,DI)，ag：

```
MOV BX,1200H
MOV AX,[BX]
```
操作数的段地址（数据处于哪个段）取决于选择哪一个间址寄存器
BX,SI,DI = 默认在数据段
BP = 默认在堆栈段
<li>相对寻址</li>
操作数的偏移地址为寄存器的内容加上一个位移量，ag：`MOV AX,[BX+DATA]`<br>
相对寻址主要用于一维数组的操作，常将位移量作为“表头”地址，间址寄存器的值作为表内相对地址
<li>基址、变址寻址</li>
操作数的偏移地址为：一个基址寄存器的内容+一个变址寄存器的内容<br>
操作数的段地址由选择的基址寄存器决定
<ul>
<li>基址寄存器为BX，默认在数据段</li>
<li>基址寄存器为BP，默认在堆栈段</li>
</ul>
<li>基址、变址、相对寻址</li>
偏移地址：基址寄存器内容+变址寄存器内容+位移量<br>
操作数的段地址由选择的基址寄存器决定<br>
基址变址相对寻址方式主要用于二维表格操作<br>
<li>隐含寻址</li>
指令中隐含了一个或两个操作数的地址，即操作数在默认的地址，ag：`MUL BL`:`AL*BL`
</ol>

#### 8086指令集
<ol>
<li>一般数据传送指令</li>
比如MOV（两操作数字长必须相同；两操作数不允许同时为存储器操作数；两个操作数不允许同时为段寄存器；在源操作数为立即数时；目标操作数不能是段寄存器；IP和CS不作为目标操作数，FLAGS一般也不作为操作数在指令中出现）<br>
结合上述的MOV指令要求，判断一下下面的指令正确性：
```
MOV AL,BX  F,两操作数字长不等
MOV AX,[SI]05H  T，源操作数为相对寻址
MOV [BX][BP],BX  F，目标操作数寻址方式错误
MOV DS,1000H  F，不能用立即寻址方式为段寄存器赋值
MOV DX,09H  T
MOV [1200],[SI]  F，两操作数不能同时为存储器操作数
```
题目：将（*）的ASCII码2AH送入内存数据段1000H开始的100个单元中<br>
分析：<br>
<ol>
<li>确定首地址</li>
<li>确定数据长</li>
<li>写一次数据</li>
<li>修改单元地址</li>
<li>修改长度值</li>
<li>判断写完否</li>
<li>如果未完继续写，否则结束</li>
</ol>
实现：<br>

```
        MOV DI,1000H
        MOV CX,64H
        MOV AL,2AH
AGAIN:  MOV [DI],AL
        INC DI ;DI+1
        DEC CX ;CX-1
        JNZ AGAIN ;CX!=0则继续
        HLT
```

<li></li>
<li></li>
</ol>